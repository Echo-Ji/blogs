<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>集成学习 | Echo Ji</title>
    <meta name="description" content=" 面试前整理的一些自己不熟悉的知识点，好想拥有一个硬盘一样的脑袋，可以不忘掉的那种。 --&gt;
Bagging 与 Boosting
Bagging 方法
Bootstrap 采样生成相互独立的 k 个训练集
用这 k 个训练集训练 k 个模型
用这 k 个模型投票或平均的结果作为模型的输出
例如 Bagging + 决策树 = 随机 ...">
    <link rel="icon" href="/blogs/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.606e9f23.css" as="style"><link rel="preload" href="/blogs/assets/js/app.67f6c0ad.js" as="script"><link rel="preload" href="/blogs/assets/js/4.7c2c95e9.js" as="script"><link rel="preload" href="/blogs/assets/js/5.8b86248a.js" as="script"><link rel="preload" href="/blogs/assets/js/32.3007c773.js" as="script"><link rel="prefetch" href="/blogs/assets/js/1.e76662eb.js"><link rel="prefetch" href="/blogs/assets/js/10.c6aeaa4b.js"><link rel="prefetch" href="/blogs/assets/js/11.82df316d.js"><link rel="prefetch" href="/blogs/assets/js/12.eab284d2.js"><link rel="prefetch" href="/blogs/assets/js/13.cd8e489a.js"><link rel="prefetch" href="/blogs/assets/js/14.a3f84c0c.js"><link rel="prefetch" href="/blogs/assets/js/15.9bdbb339.js"><link rel="prefetch" href="/blogs/assets/js/16.f4317575.js"><link rel="prefetch" href="/blogs/assets/js/17.fa69ee94.js"><link rel="prefetch" href="/blogs/assets/js/18.d453431b.js"><link rel="prefetch" href="/blogs/assets/js/19.064e46d1.js"><link rel="prefetch" href="/blogs/assets/js/20.c1c3c0e8.js"><link rel="prefetch" href="/blogs/assets/js/21.04422038.js"><link rel="prefetch" href="/blogs/assets/js/22.513643ab.js"><link rel="prefetch" href="/blogs/assets/js/23.c151a0a2.js"><link rel="prefetch" href="/blogs/assets/js/24.2308ffa1.js"><link rel="prefetch" href="/blogs/assets/js/25.ead0a5d4.js"><link rel="prefetch" href="/blogs/assets/js/26.0ef4d587.js"><link rel="prefetch" href="/blogs/assets/js/27.f8f8a9f8.js"><link rel="prefetch" href="/blogs/assets/js/28.f37568cf.js"><link rel="prefetch" href="/blogs/assets/js/29.cc7c7c41.js"><link rel="prefetch" href="/blogs/assets/js/30.61a41790.js"><link rel="prefetch" href="/blogs/assets/js/31.4f93a2f0.js"><link rel="prefetch" href="/blogs/assets/js/33.015d00b6.js"><link rel="prefetch" href="/blogs/assets/js/34.5b8ce30c.js"><link rel="prefetch" href="/blogs/assets/js/35.2c376d79.js"><link rel="prefetch" href="/blogs/assets/js/36.68b803bc.js"><link rel="prefetch" href="/blogs/assets/js/37.61275c14.js"><link rel="prefetch" href="/blogs/assets/js/38.e3e5c80e.js"><link rel="prefetch" href="/blogs/assets/js/39.d17125e0.js"><link rel="prefetch" href="/blogs/assets/js/40.00614145.js"><link rel="prefetch" href="/blogs/assets/js/41.dc745971.js"><link rel="prefetch" href="/blogs/assets/js/42.792f151c.js"><link rel="prefetch" href="/blogs/assets/js/43.e40bff08.js"><link rel="prefetch" href="/blogs/assets/js/6.0217efa2.js"><link rel="prefetch" href="/blogs/assets/js/7.c3500f45.js"><link rel="prefetch" href="/blogs/assets/js/8.dc8dfe73.js"><link rel="prefetch" href="/blogs/assets/js/9.119b9b2f.js"><link rel="prefetch" href="/blogs/assets/js/vuejs-paginate.e1db4a3b.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.606e9f23.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blogs/" class="nav-link home-link">Echo Ji </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blogs/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blogs/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blogs/" class="nav-link mobile-home-link">Echo Ji </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blogs/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blogs/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><h1 class="post-title">集成学习</h1> <div class="post-meta"><div class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> Echo
    <span>   in Beijing</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> 2020-09-06
  </div> <ul class="post-meta-tags"><li class="post-tag" data-v-d832e844><a href="/blogs/tag/机器学习" data-v-d832e844> 机器学习 </a></li><li class="post-tag" data-v-d832e844><a href="/blogs/tag/数据挖掘" data-v-d832e844> 数据挖掘 </a></li><li class="post-tag" data-v-d832e844><a href="/blogs/tag/集成学习" data-v-d832e844> 集成学习 </a></li></ul></div> <div class="content__default"><h2 id="bagging-与-boosting"><a href="#bagging-与-boosting" class="header-anchor">#</a> Bagging 与 Boosting</h2> <h3 id="bagging-方法"><a href="#bagging-方法" class="header-anchor">#</a> Bagging 方法</h3> <ul><li>Bootstrap 采样生成相互独立的 k 个训练集</li> <li>用这 k 个训练集训练 k 个模型</li> <li>用这 k 个模型投票或平均的结果作为模型的输出</li></ul> <p>例如 Bagging + 决策树 = 随机森林。</p> <p>随机森林中要注意两个随机，一是为单棵决策树随机有放回地从大小为 N 的训练集中抽取 N 个样本，二是在决策树的每个节点进行分裂时随机从 M 个属性中抽取 m 个属性（m &lt;&lt; M），然后从中选择一个最好的进行分裂。</p> <p>注意，对于第二点而言，如果某节点选择的分裂属性与父节点相同，则该节点停止分裂，变成子节点。</p> <h3 id="boosting-方法"><a href="#boosting-方法" class="header-anchor">#</a> Boosting 方法</h3> <ul><li>每一轮训练都改变数据的概率分布，提升误分类样本的权重，降低正确分类样本的权重</li> <li>给错误率小的基础模型更大的权重，同时减小错误率高的模型权重</li> <li>对基础模型进行加权组合，给出最后的结果</li></ul> <p>AdaBoost，GBDT，XGBoost 都是这类方法的例子。</p> <h3 id="对比"><a href="#对比" class="header-anchor">#</a> 对比</h3> <p>两种方法对比如下：</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:left;">Bagging</th> <th style="text-align:left;">Boosting</th></tr></thead> <tbody><tr><td style="text-align:center;">数据选择</td> <td style="text-align:left;">采用 Bootstrap 方法有放回地产生相互独立的训练集</td> <td style="text-align:left;">训练集不变，但每个样本的权重会根据上一轮的分类结果进行调整</td></tr> <tr><td style="text-align:center;">样本权重</td> <td style="text-align:left;">每个样本权重一致</td> <td style="text-align:left;">根据错误率调整权重，错误率大的下一轮学习中的权重高，以便学习器注意到该样本</td></tr> <tr><td style="text-align:center;">预测函数</td> <td style="text-align:left;">所有模型权重一致</td> <td style="text-align:left;">每个弱分类器都有相应权重，分类效果好的权重高，反之则低</td></tr> <tr><td style="text-align:center;">并行计算</td> <td style="text-align:left;">每个弱分类器的训练互不干扰，可以并行</td> <td style="text-align:left;">每一轮的计算都依赖于上一轮模型的分类结果，不能并行 🙅</td></tr></tbody></table> <p>通常情况下，用 Bagging 方法得到的结果方差更小，而 Boosting 方法得到的结果偏差更小。为了考虑偏差和方差的权衡，就要尽量降低 Bagging 模型的偏差（构建相对复杂的模型），降低 Boosting 模型的方差（简化弱分类器）。</p> <p>参考 <a href="https://medium.com/@pkqiang49/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0-%E8%AF%A6%E8%A7%A3-bagging-boosting-%E4%BB%A5%E5%8F%8A%E4%BB%96%E4%BB%AC%E7%9A%84-4-%E7%82%B9%E5%8C%BA%E5%88%AB-6e3c72df05b8" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://zhuanlan.zhihu.com/p/27689464" target="_blank" rel="noopener noreferrer">2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="blending-与-stacking"><a href="#blending-与-stacking" class="header-anchor">#</a> Blending 与 Stacking</h2> <p>Blending 与 Stacking 方法都是训练一个总模型来组合其他各个模型，首先需要训练多个模型，然后将各个模型的输出作为总模型的输入，用以得到最后的输出。</p> <p>Stacking 和 Blending 最大的区别貌似体现在数据划分上，数据划分的不同导致训练过程也有所区别，对比如下。</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:left;">Blending</th> <th style="text-align:left;">Stacking</th></tr></thead> <tbody><tr><td style="text-align:center;">初级，训练</td> <td style="text-align:left;">把训练数据划分为初级训练集和初级验证集，然后通过初级训练集训练 m 个初级模型，用初级验证集生成次级验证集，次级验证集的大小为（初级验证集的样本数，m）</td> <td style="text-align:left;">K 折交叉验证划分训练数据集，初级模型每次生成 1/K 的次级特征，K 次生成一个完整的次级特征，分别用 m 个模型生成次级训练集，其大小为（训练集的样本数，m）</td></tr> <tr><td style="text-align:center;">初级，测试</td> <td style="text-align:left;">通过初级模型用初级测试集生成次级测试集</td> <td style="text-align:left;">通过初级模型用初级测试集生成次级测试集，取 K 次的平均结果作为最后的次级测试集</td></tr> <tr><td style="text-align:center;">次级，训练</td> <td style="text-align:left;">次级验证集用于训练次级融合模型</td> <td style="text-align:left;">次级训练集用于训练次级融合模型</td></tr> <tr><td style="text-align:center;">次级，测试</td> <td style="text-align:left;">次级测试集用于测试</td> <td style="text-align:left;">次级测试集用于测试</td></tr></tbody></table> <p>相较于 Stacking，Blending 的操作更为简单，但数据利用率也较低。</p> <p>参考 <a href="https://blog.csdn.net/weixin_43467711/article/details/100749340" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://blog.csdn.net/weixin_43467711/article/details/105258441" target="_blank" rel="noopener noreferrer">2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></div> <!----> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#bagging-与-boosting" title="Bagging 与 Boosting">Bagging 与 Boosting</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#bagging-方法" title="Bagging 方法">Bagging 方法</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#boosting-方法" title="Boosting 方法">Boosting 方法</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#对比" title="对比">对比</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#blending-与-stacking" title="Blending 与 Stacking">Blending 与 Stacking</a></div></div></div></div> <footer class="footer" data-v-582f9766><div class="footer-left-wrap" data-v-582f9766><ul class="contact" data-v-582f9766><li class="contact-item" data-v-582f9766><a href="https://github.com/Echo-Ji" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-582f9766><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-582f9766></path></svg>
          
        </a></li><li class="contact-item" data-v-582f9766><a href="/blogs/2020/09/06/%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/bh1506jjh@gmail.com.html" class="nav-link" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-582f9766><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-582f9766></path><polyline points="22,6 12,13 2,6" data-v-582f9766></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-582f9766><ul class="copyright" data-v-582f9766><li class="copyright-item" data-v-582f9766><a href="https://github.com/Echo-Ji" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766>Echo Ji © 2020</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blogs/assets/js/app.67f6c0ad.js" defer></script><script src="/blogs/assets/js/4.7c2c95e9.js" defer></script><script src="/blogs/assets/js/5.8b86248a.js" defer></script><script src="/blogs/assets/js/32.3007c773.js" defer></script>
  </body>
</html>
