(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{312:function(t,s,a){"use strict";a.r(s);var e=a(5),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-从-seq2seq-说起"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-从-seq2seq-说起"}},[t._v("#")]),t._v(" 1. 从 Seq2Seq 说起")]),t._v(" "),a("p",[t._v("如果从源头来讲，注意力机制（Attention）最先是应用在 NLP 领域的机器翻译任务上的。\n之前的机器翻译任务通常是 Seq2Seq 模型（Encoder-Decoder 结构）来解决的，Encoder 负责学习句子的表征，\n将其总结为一个定长的向量（hidden vector），然后输入给 Decoder 来解码翻译，但注意只有第一个 Decoder 接收 hidden state，\n之后的每个 Decoder 都将上一个 Decoder 的输出作为自己的输入。")]),t._v(" "),a("p",[t._v("但是这个结构有个问题，对于较长的句子，很难保证最后的 hidden vector 能够保留所有有效信息，因此翻译的效果也会显著下降。")]),t._v(" "),a("p",[t._v("为了解决由长序列到定长向量信息损失的问题，Attention 机制被引入了。Attention 机制的 motivation 来自于人类本身，\n比如我们翻译句子的时候，往往只会关注翻译部分对应的上下文，同样 Attention 的思想也是给当前翻译词语的上下文更高的关注度。")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("iframe",{staticStyle:{margin:"0 auto"},attrs:{src:t.$withBase("/2020-11-20-attention-ill.mp4"),frameborder:"0",allowfullscreen:""}})]),t._v(" "),a("p",[t._v("这里的关键操作就是，在 Deocder 进行翻译的时候不仅仅依赖于最后一个 Encoder 的输出，它会依赖于每一个 Encoder 的输出，根据这些输出计算一个 Attention 分布，\n然后用 Attention 对所有 Encoder 的输出做加权，从而得到 Decoder 的输入，也就是说，使用 Attention 可以打破原有的使用单一定长向量的限制，\n使得模型关注到被翻译词语的上下文（也许距离当前词语很远）。")]),t._v(" "),a("p",[t._v("此外，通过可视化 Attention 矩阵，还可以更好地理解模型的工作机制。")]),t._v(" "),a("p",[t._v("说到这里，读者也许会不禁想问，Attention 这么牛，他到底是怎么算的？")]),t._v(" "),a("h2",{attrs:{id:"_2-细说-attention"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-细说-attention"}},[t._v("#")]),t._v(" 2. 细说 Attention")]),t._v(" "),a("p",[t._v("要说 Attention，先看一张图。")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{margin:"0 auto"},attrs:{src:t.$withBase("/2020-11-20-attention-cal.png"),alt:"2020-11-20-attn-cal"}})]),t._v(" "),a("p",[t._v("Attention 的计算通常有三个输入："),a("code",[t._v("Q(uery), K(ey), V(alue)")]),t._v("，这三个输入通过图中的一波操作，即可得到加权后的结果。")]),t._v(" "),a("p",[t._v("以上一节的 Seq2Seq 为例，"),a("code",[t._v("Query")]),t._v(" 就是上一个 Decoder 的隐状态，"),a("code",[t._v("Key")]),t._v(" 就是 Encoder 中的隐状态，"),a("code",[t._v("Value")]),t._v(" 就是当前位置的 Encoder 的输出。")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{margin:"0 auto"},attrs:{src:t.$withBase("/2020-11-20-normal-attention.jpg"),alt:"2020-11-20-norm-attn"}})]),t._v(" "),a("h2",{attrs:{id:"_3-何为-self-attention"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-何为-self-attention"}},[t._v("#")]),t._v(" 3. 何为 Self-Attention")]),t._v(" "),a("p",[t._v("此外，还有一种特殊的 Attention，"),a("code",[t._v("Q, K, V")]),t._v(" 均来自于同一个输入，通过不同的线性变换矩阵转化得到，Transformer 中就用的是这样的方式。")]),t._v(" "),a("p",[t._v("关于 Self-Attention，"),a("a",{attrs:{href:"https://jalammar.github.io/illustrated-transformer/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇文章"),a("OutboundLink")],1),t._v("讲地非常棒，这里简单总结一下对于 Self-Attention 的求解过程：")]),t._v(" "),a("ul",[a("li",[t._v("计算 Attention score：计算当前 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("msub",[a("mi",[t._v("q")]),a("mi",[t._v("i")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("q_i")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit"},[t._v("i")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 与每一个 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("msub",[a("mi",[t._v("k")]),a("mi",[t._v("j")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("k_j")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03148em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" 的 Attention score（相似度），通常使用点积，即 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("msub",[a("mtext",[a("mi",{attrs:{mathvariant:"normal"}},[t._v("s")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("e")])],1),a("mrow",[a("mi",[t._v("i")]),a("mi",[t._v("j")])],1)],1),a("mo",[t._v("=")]),a("msub",[a("mi",[t._v("q")]),a("mi",[t._v("i")])],1),a("mo",[t._v("⋅")]),a("msub",[a("mi",[t._v("k")]),a("mi",[t._v("j")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\text{score}_{ij} = q_i \\cdot k_j")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"text mord textstyle uncramped"},[a("span",{staticClass:"mord mathrm"},[t._v("s")]),a("span",{staticClass:"mord mathrm"},[t._v("c")]),a("span",{staticClass:"mord mathrm"},[t._v("o")]),a("span",{staticClass:"mord mathrm"},[t._v("r")]),a("span",{staticClass:"mord mathrm"},[t._v("e")])]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord scriptstyle cramped"},[a("span",{staticClass:"mord mathit"},[t._v("i")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),a("span",{staticClass:"mrel"},[t._v("=")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit"},[t._v("i")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),a("span",{staticClass:"mbin"},[t._v("⋅")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03148em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v("。")]),t._v(" "),a("li",[t._v("归一化：为了梯度的稳定，对 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mtext",[a("mi",{attrs:{mathvariant:"normal"}},[t._v("s")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("c")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("r")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("e")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\text{score}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"text mord textstyle uncramped"},[a("span",{staticClass:"mord mathrm"},[t._v("s")]),a("span",{staticClass:"mord mathrm"},[t._v("c")]),a("span",{staticClass:"mord mathrm"},[t._v("o")]),a("span",{staticClass:"mord mathrm"},[t._v("r")]),a("span",{staticClass:"mord mathrm"},[t._v("e")])])])])]),t._v(" 进行归一化，即除以 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("msqrt",[a("mrow",[a("msub",[a("mi",[t._v("d")]),a("mi",[t._v("k")])],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sqrt{d_k}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.8572200000000001em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1.04em","vertical-align":"-0.18278em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"sqrt mord"},[a("span",{staticClass:"sqrt-sign",staticStyle:{top:"-0.017220000000000013em"}},[a("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[t._v("√")])]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"mord textstyle cramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit"},[t._v("d")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),a("span",{staticStyle:{top:"-0.77722em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped sqrt-line"})]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v("。")]),t._v(" "),a("li",[t._v("Softmax 激活：将归一化后的结果用 Softmax 激活成 Attention 分布。")]),t._v(" "),a("li",[t._v("加权求和：在得到 Attention 分布之后对每一个 "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("v")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])])])]),t._v(" 进行加权，得到最终的表征向量。")])]),t._v(" "),a("p",[t._v("向量化之后就可以表示为：")]),t._v(" "),a("p",[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("A")]),a("mi",[t._v("t")]),a("mi",[t._v("t")]),a("mi",[t._v("n")]),a("mo",[t._v("(")]),a("mi",[t._v("Q")]),a("mo",{attrs:{separator:"true"}},[t._v(",")]),a("mi",[t._v("K")]),a("mo",{attrs:{separator:"true"}},[t._v(",")]),a("mi",[t._v("V")]),a("mo",[t._v(")")]),a("mo",[t._v("=")]),a("mtext",[a("mi",{attrs:{mathvariant:"normal"}},[t._v("s")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("o")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("f")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("t")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("m")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("a")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v("x")])],1),a("mo",[t._v("(")]),a("mfrac",[a("mrow",[a("mi",[t._v("Q")]),a("msup",[a("mi",[t._v("K")]),a("mi",[t._v("T")])],1)],1),a("mrow",[a("msqrt",[a("mrow",[a("msub",[a("mi",[t._v("d")]),a("mi",[t._v("k")])],1)],1)],1)],1)],1),a("mo",[t._v(")")]),a("mi",[t._v("V")]),a("mi",{attrs:{mathvariant:"normal"}},[t._v(".")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Attn(Q, K, V) = \\text{softmax}(\\frac{QK^T}{\\sqrt{d_k}})V.\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"1.5183309999999999em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"2.448331em","vertical-align":"-0.9300000000000002em"}}),a("span",{staticClass:"base displaystyle textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("A")]),a("span",{staticClass:"mord mathit"},[t._v("t")]),a("span",{staticClass:"mord mathit"},[t._v("t")]),a("span",{staticClass:"mord mathit"},[t._v("n")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("Q")]),a("span",{staticClass:"mpunct"},[t._v(",")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),a("span",{staticClass:"mpunct"},[t._v(",")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),a("span",{staticClass:"mclose"},[t._v(")")]),a("span",{staticClass:"mrel"},[t._v("=")]),a("span",{staticClass:"text mord displaystyle textstyle uncramped"},[a("span",{staticClass:"mord mathrm"},[t._v("s")]),a("span",{staticClass:"mord mathrm"},[t._v("o")]),a("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")]),a("span",{staticClass:"mord mathrm"},[t._v("t")]),a("span",{staticClass:"mord mathrm"},[t._v("m")]),a("span",{staticClass:"mord mathrm"},[t._v("a")]),a("span",{staticClass:"mord mathrm"},[t._v("x")])]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[a("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.7472200000000002em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle cramped"},[a("span",{staticClass:"mord textstyle cramped"},[a("span",{staticClass:"sqrt mord"},[a("span",{staticClass:"sqrt-sign",staticStyle:{top:"-0.017220000000000013em"}},[a("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[t._v("√")])]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"mord textstyle cramped"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit"},[t._v("d")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle cramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),a("span",{staticStyle:{top:"-0.77722em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped sqrt-line"})]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])]),a("span",{staticStyle:{top:"-0.22999999999999998em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),a("span",{staticStyle:{top:"-0.677em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle textstyle uncramped"},[a("span",{staticClass:"mord textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("Q")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),a("span",{staticClass:"vlist"},[a("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),a("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),a("span",{staticClass:"baseline-fix"},[a("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[a("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),a("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),a("span",{staticClass:"mclose"},[t._v(")")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),a("span",{staticClass:"mord mathrm"},[t._v(".")])])])])])]),t._v(" "),a("p",[t._v("参考 "),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/48508221",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/47282410",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),a("OutboundLink")],1),t._v("。")])])}),[],!1,null,null,null);s.default=i.exports}}]);